<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consultas Online</title>
</head>

<body>
    <h1>Bem Vindo</h1>
    <script>
        function test(day) {
            switch (day) {
                case 1:
                    return 'segunda';
                case 2:
                    return 'terça';
                case 3:
                    return 'quarta';
                case 4:
                    return 'quinta';
                case 5:
                    return 'sexta';
                default:
                    return 'invalid';
            }
        }
        function bissexto(ano) {
            return (ano % 4 == 0 && ano % 100 != 0) || ano % 400 == 0 ? 29 : 28;
        }
        function valido(data, dia, mes) {
            return data.getDay() == 0 || data.getDay() == 6;
        }
        function main() {
            let dia = prompt("");
            let mes = parseInt(prompt(""));
            let ano = prompt("");
            let escrito = 'oi';
            let str = `${mes}/${dia}/${ano}`;
            const data = new Date(str);
            const diasMes = {
                1: 31,
                2: bissexto(parseInt(ano)),
                3: 31,
                4: 30,
                5: 31,
                6: 30,
                7: 31,
                8: 31,
                9: 30,
                10: 31,
                11: 30,
                12: 31
            }
            const atual = new Date();
            if (valido(data, dia, mes) || parseInt(dia) > diasMes[mes] || data <= atual) {
                alert('Data inválida, selecione um dia útil');
                main();
            }
            else {
                document.write(`Consulta marcada para ${test(data.getDay())}, dia ${dia}/${mes.toString().padStart(2, '0')}`);
            }
        }
        main();
    </script>
</body>

</html>